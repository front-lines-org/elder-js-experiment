<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>stacks Hook Interface: Elder.js Example Project</title><meta name="description" content="Hook details for stacks in Elder.js from the Hook Interface" data-svelte="svelte-19ftz64"><link href="http://localhost:3000/stacks/" rel="canonical" data-svelte="svelte-19ftz64"><title>Front Lines</title><link href="/tailwind.css" rel="stylesheet" data-svelte="svelte-a92m6i"><link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" data-svelte="svelte-a92m6i"><script data-svelte="svelte-a92m6i">document.addEventListener('ejs', (e) => {
      console.log('Layout.svelte > Component Mount Detail', e.detail);
    });
  </script><link rel="prefetch" href="/_elderjs/svelte/components/Header.c4768767.js" as="script"><link rel="stylesheet" href="/_elderjs/assets/svelte-e46ae418.css" media="all" /><style></style></head><body class="hooks">
<div class="container svelte-k9lunc"><div class="header-component" id="header-ejs-ZswbWmXtgm"><div class="mb-8"><div class="mb-3">

<header class="mdc-top-app-bar smui-top-app-bar--static smui-top-app-bar--color-secondary mdc-top-app-bar--dense" style=""><div class="mdc-top-app-bar__row"><section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start"><span class="mdc-top-app-bar__title"><div class="logo svelte-16gd1gn">Front Lines
    </div></span>
</section>
      <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" role="toolbar"><button class="material-icons mdc-icon-button mdc-icon-button--display-flex mdc-top-app-bar__action-item" style="" aria-label="Download"><div class="mdc-icon-button__ripple"></div>
  search</button>
        <button class="material-icons mdc-icon-button mdc-icon-button--display-flex mdc-top-app-bar__action-item" style="" aria-label="Print this page"><div class="mdc-icon-button__ripple"></div>
  more_vert</button>
        <button class="material-icons mdc-icon-button mdc-icon-button--display-flex mdc-top-app-bar__action-item" style="" aria-label="Bookmark this page"><div class="mdc-icon-button__ripple"></div>
  menu</button>
</section>
</div>
</header>
  <main class="">
</main></div>
  <div class="mdc-tab-bar" role="tablist"><div class="mdc-tab-scroller"><div class="mdc-tab-scroller__scroll-area" style=""><div class="mdc-tab-scroller__scroll-content" style=""><a href="/" class="mdc-tab mdc-tab--active" style="" role="tab" aria-selected="true" tabindex="0"><span class="mdc-tab__content"><span class="mdc-tab__text-label" href="test">Home</span>
    </span>
  <span class="mdc-tab-indicator mdc-tab-indicator--active"><span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline" style=""></span>
</span>
  <span class="mdc-tab__ripple"></span></a><a href="/ukraine" class="mdc-tab" style="" role="tab" aria-selected="false" tabindex="-1"><span class="mdc-tab__content"><span class="mdc-tab__text-label" href="test">Ukraine</span>
    </span>
  <span class="mdc-tab-indicator"><span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline" style=""></span>
</span>
  <span class="mdc-tab__ripple"></span></a><a href="/ukraine_map" class="mdc-tab" style="" role="tab" aria-selected="false" tabindex="-1"><span class="mdc-tab__content"><span class="mdc-tab__text-label" href="test">Ukraine Map</span>
    </span>
  <span class="mdc-tab-indicator"><span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline" style=""></span>
</span>
  <span class="mdc-tab__ripple"></span></a><a href="/2.africa.md" class="mdc-tab" style="" role="tab" aria-selected="false" tabindex="-1"><span class="mdc-tab__content"><span class="mdc-tab__text-label" href="test">Africa</span>
    </span>
  <span class="mdc-tab-indicator"><span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline" style=""></span>
</span>
  <span class="mdc-tab__ripple"></span></a><a href="/3.Asia.md" class="mdc-tab" style="" role="tab" aria-selected="false" tabindex="-1"><span class="mdc-tab__content"><span class="mdc-tab__text-label" href="test">Asia</span>
    </span>
  <span class="mdc-tab-indicator"><span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline" style=""></span>
</span>
  <span class="mdc-tab__ripple"></span></a><a href="/4.nagarno-karabakh.md" class="mdc-tab" style="" role="tab" aria-selected="false" tabindex="-1"><span class="mdc-tab__content"><span class="mdc-tab__text-label" href="test">Nagarno-Karabakh</span>
    </span>
  <span class="mdc-tab-indicator"><span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline" style=""></span>
</span>
  <span class="mdc-tab__ripple"></span></a><a href="/999.about-us.md" class="mdc-tab" style="" role="tab" aria-selected="false" tabindex="-1"><span class="mdc-tab__content"><span class="mdc-tab__text-label" href="test">About us</span>
    </span>
  <span class="mdc-tab-indicator"><span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline" style=""></span>
</span>
  <span class="mdc-tab__ripple"></span></a></div></div>
</div>
</div></div></div>
  <!-- HTML_TAG_START -->

<a href="/" class="svelte-bvr7j8">← Home</a>

<h1>Elder.js Hook: stacks</h1>

<div class="hook svelte-azdmmt">

  <div class="overview svelte-azdmmt"><span class="hook-name">stacks</span>
    : Executed just before processing all of the stacks into strings.</div>
  <div class="use svelte-azdmmt"><!-- HTML_TAG_START --><p>Elder.js uses 'stacks' to manage it's string concatenation. If you are unfamiliar, stacks are basically an array of strings, with a priority, and some meta data. This hook let's you manipulate or view the stacks before they are written to the page and is designed for use by plugins.</p>
          <p>This hook will mainly be used when you need to add arbitrary strings to the footer. In most cases, users should be using &lt;svelte:head&gt;&lt;/svelte:head&gt; to add content to the head.</p> 
          <ul>
            <li><strong>headStack:</strong> Internally all content used in <svelte:head></svelte:head> are added to the head stack. If you were looking to add ld+json to the page, you could do it here. If you're looking to write &lt;title&gt; tags, we recommend doing it within Svelte templates unless you are writing a plugin in which case you may want to also look at the 'head' hook.</li>
            <li><strong>cssStack:</strong> The 'cssStack' represents all of the css strings added by hooks and plugins. Plugins can add css here (our in the head stack if you need to add CSS before the Elder.js CSS file), but we recommend users add them directly in Svelte files. Note: Do not wrap strings added to the stack in &lt;style&gt;&lt;/style&gt;.</li>
            <li><strong>beforeHydrateStack:</strong> Polyfills for hydration could be added here. This stack is not run unless there are Svelte components to be hydrated. </li>
            <li><strong>hydrateStack:</strong> the hydrateStack contains strings which represent all of the root svelte components which will be hydrated.</li>
            <li><strong>customJsStack:</strong> Used to add custom JS to the site. This is done after the Svelte components are written to the page. </li>
            <li><strong>footerStack:</strong> the footerStack which is an array of html or html friendly strings that will be written to the footer. This is generally the ideal place for plugins to add Analytics scripts as it fires after all other JS.</li>
          </ul>
      <!-- HTML_TAG_END --></div>

  <div class="list svelte-azdmmt"><strong>Props</strong> : <div class="code svelte-azdmmt" data-balloon-length="medium" data-balloon-pos="up" aria-label="Includes two functions: perf.start(&#39;thingToTrack&#39;) and perf.end(&#39;thingToTrack&#39;) which allows easily adding tracking to Elder.js&#39; perf reporting which can be toggled under debug.performance in your elder.config.js file.">perf
      </div><div class="code svelte-azdmmt" data-balloon-length="medium" data-balloon-pos="up" aria-label="An object of helpers loaded from `./src/helpers/index.js` in addition to the Elder.js provided helper functions.">helpers
      </div><div class="code svelte-azdmmt" data-balloon-length="medium" data-balloon-pos="up" aria-label="An object that is passed to Svelte templates as the &quot;data&quot; prop.">data
      </div><div class="code svelte-azdmmt" data-balloon-length="medium" data-balloon-pos="up" aria-label="An object representing the elder.config.js and other details about the build.">settings
      </div><div class="code svelte-azdmmt" data-balloon-length="medium" data-balloon-pos="up" aria-label="An object that represents the parameters required to generate a specific page on a specific route. This object originating from the all() query of a route.js file.">request
      </div><div class="code svelte-azdmmt" data-balloon-length="medium" data-balloon-pos="up" aria-label="An object that is initially empty but is reserved for plugins and sites to add database or api access to.">query
      </div><div class="code svelte-azdmmt" data-balloon-length="medium" data-balloon-pos="up" aria-label="An array of errors collected during the build process.">errors
      </div><div class="code svelte-azdmmt" data-balloon-length="medium" data-balloon-pos="up" aria-label="A &quot;stack&quot; of strings to be merged together to create the the cssString prop. This is mainly uses to collect the css strings emitted by SSR&#39;d Svelte files.">cssStack
      </div><div class="code svelte-azdmmt" data-balloon-length="medium" data-balloon-pos="up" aria-label="A &quot;stack&quot; of attributes to be merged together that are written to the &lt;html&gt; tag.By default, it containt &quot;{lang: &quot;en&quot;}&quot; or an other lang set in your elder.config.js">htmlAttributesStack
      </div><div class="code svelte-azdmmt" data-balloon-length="medium" data-balloon-pos="up" aria-label="A &quot;stack&quot; of attributes to be merged together that are written to the &lt;body&gt; tag.">bodyAttributesStack
      </div><div class="code svelte-azdmmt" data-balloon-length="medium" data-balloon-pos="up" aria-label="A &quot;stack&quot; of strings to be merged together (along with cssStack) that are written to the &lt;head&gt; tag. If you are looking to customize the head you&#39;re probably better looking at the &quot;headString.&quot;">headStack
      </div><div class="code svelte-azdmmt" data-balloon-length="medium" data-balloon-pos="up" aria-label="A &quot;stack&quot; of generally JS script tags that are required to be loaded before a Svelte component is hydrated. This is only written to the page when a Svelte component needs to be hydrated.">beforeHydrateStack
      </div><div class="code svelte-azdmmt" data-balloon-length="medium" data-balloon-pos="up" aria-label="A &quot;stack&quot; Svelte components that will be hydrated.">hydrateStack
      </div><div class="code svelte-azdmmt" data-balloon-length="medium" data-balloon-pos="up" aria-label="A &quot;stack&quot; of user specific customJs strings that will to be merged together. This is written after the Svelte components.">customJsStack
      </div><div class="code svelte-azdmmt" data-balloon-length="medium" data-balloon-pos="up" aria-label="A &quot;stack&quot; of strings to be merged together that will be added to the footer tag.">footerStack
      </div></div>
  <div class="list svelte-azdmmt"><strong>Mutable</strong> : <div class="code svelte-azdmmt" data-balloon-length="medium" data-balloon-pos="up" aria-label="An array of errors collected during the build process.">errors
      </div><div class="code svelte-azdmmt" data-balloon-length="medium" data-balloon-pos="up" aria-label="A &quot;stack&quot; of strings to be merged together to create the the cssString prop. This is mainly uses to collect the css strings emitted by SSR&#39;d Svelte files.">cssStack
      </div><div class="code svelte-azdmmt" data-balloon-length="medium" data-balloon-pos="up" aria-label="A &quot;stack&quot; of attributes to be merged together that are written to the &lt;html&gt; tag.By default, it containt &quot;{lang: &quot;en&quot;}&quot; or an other lang set in your elder.config.js">htmlAttributesStack
      </div><div class="code svelte-azdmmt" data-balloon-length="medium" data-balloon-pos="up" aria-label="A &quot;stack&quot; of attributes to be merged together that are written to the &lt;body&gt; tag.">bodyAttributesStack
      </div><div class="code svelte-azdmmt" data-balloon-length="medium" data-balloon-pos="up" aria-label="A &quot;stack&quot; of strings to be merged together (along with cssStack) that are written to the &lt;head&gt; tag. If you are looking to customize the head you&#39;re probably better looking at the &quot;headString.&quot;">headStack
      </div><div class="code svelte-azdmmt" data-balloon-length="medium" data-balloon-pos="up" aria-label="A &quot;stack&quot; of generally JS script tags that are required to be loaded before a Svelte component is hydrated. This is only written to the page when a Svelte component needs to be hydrated.">beforeHydrateStack
      </div><div class="code svelte-azdmmt" data-balloon-length="medium" data-balloon-pos="up" aria-label="A &quot;stack&quot; Svelte components that will be hydrated.">hydrateStack
      </div><div class="code svelte-azdmmt" data-balloon-length="medium" data-balloon-pos="up" aria-label="A &quot;stack&quot; of user specific customJs strings that will to be merged together. This is written after the Svelte components.">customJsStack
      </div><div class="code svelte-azdmmt" data-balloon-length="medium" data-balloon-pos="up" aria-label="A &quot;stack&quot; of strings to be merged together that will be added to the footer tag.">footerStack
      </div></div>

  <div><small>This hook is an &#39;advanced&#39; hook meaning it geared towards advanced users or plugins.</small></div>

  <small>Stable · Location: Page.ts</small></div>

<img src="https://elderguide.com/images/elderjs-hooks-v100.png" alt="Elder.js hook Lifecycle" style="max-width:100%; margin:1rem 0;"><!-- HTML_TAG_END --></div>
    
    <script type="module">
            const requestIdleCallback = window.requestIdleCallback || ( cb => window.setTimeout(cb,1) );
      
const $$ejs = (par,eager)=>{
  const $ejs = function(_ejs){return _ejs};
  const prefix = '/_elderjs';
  const initComponent = (target, component) => {

    if(!!CustomEvent && target.id){
      const split = target.id.split('-ejs-');
      document.dispatchEvent(new CustomEvent('ejs', {
        detail: {
          category: 'elderjs',
          action: 'hydrate',
          target: target,
          label: split[0] || target.id
        }
      }));
    }

    const propProm = ((typeof component.props === 'string') ? fetch(prefix+'/props/'+ component.props).then(p => p.json()).then(r => $ejs(r)) : new Promise((resolve) => resolve($ejs(component.props))));
    const compProm = import(prefix + '/svelte/components/' + component.component);

    Promise.all([compProm,propProm]).then(([comp,props])=>{
      new comp.default({ 
        target: target,
        props: props,
        hydrate: true
      });
    });
  };
  const IO = ('IntersectionObserver' in window) ? new IntersectionObserver((entries, observer) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        observer.unobserve(entry.target);
        const selected = par[entry.target.id];
        initComponent(entry.target,selected)
      }
    });
  }, { rootMargin: "200px",threshold: 0}) : undefined;
  Object.keys(par).forEach(k => {
    const el = document.getElementById(k);
    if (!eager && IO) {
        IO.observe(el);
    } else {
        initComponent(el,par[k]);
    }
  });
};

      
      requestIdleCallback(function(){
        $$ejs({'header-ejs-ZswbWmXtgm' : { 'component' : 'Header.c4768767.js', 'props' : {"pages":[{"title":"Ukraine","slug":"ukraine"},{"title":"Ukraine Map","slug":"ukraine_map"},{"title":"Africa","slug":"2.africa.md"},{"title":"Asia","slug":"3.Asia.md"},{"title":"Nagarno-Karabakh","slug":"4.nagarno-karabakh.md"},{"title":"About us","slug":"999.about-us.md"}],"url":"/stacks/"}},})}, {timeout: 1000});</script>
    
    
    </body></html>