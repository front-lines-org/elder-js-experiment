<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Elder.js Route: An Overview</title><meta name="description" content="A Simple Route" data-svelte="svelte-hnwfsx"><link href="https://front-lines-org.github.io/elder-js-experiment/simple/" rel="canonical" data-svelte="svelte-hnwfsx"><link href="/tailwind.css" rel="stylesheet" data-svelte="svelte-6u99mm"><script data-svelte="svelte-6u99mm">document.addEventListener('ejs', (e) => {
      console.log('Layout.svelte > Component Mount Detail', e.detail);
    });
  </script><link rel="prefetch" href="/_elderjs/svelte/components/Header.fef20fc9.js" as="script"><link rel="stylesheet" href="/_elderjs/assets/svelte-3e061db9.css" media="all" /><style></style></head><body class="simple">
<div class="container svelte-k9lunc"><div class="header-component" id="header-ejs-yytcSbGxzX"><div class="mb-8"><div class="mb-3">

<header class="mdc-top-app-bar smui-top-app-bar--static smui-top-app-bar--color-secondary mdc-top-app-bar--dense" style=""><div class="mdc-top-app-bar__row"><section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start"><span class="mdc-top-app-bar__title"><div class="logo svelte-16gd1gn">Front Lines
    </div></span>
</section>
      <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" role="toolbar"><button class="material-icons mdc-icon-button mdc-icon-button--display-flex mdc-top-app-bar__action-item" style="" aria-label="Download"><div class="mdc-icon-button__ripple"></div>
  file_download</button>
        <button class="material-icons mdc-icon-button mdc-icon-button--display-flex mdc-top-app-bar__action-item" style="" aria-label="Print this page"><div class="mdc-icon-button__ripple"></div>
  print</button>
        <button class="material-icons mdc-icon-button mdc-icon-button--display-flex mdc-top-app-bar__action-item" style="" aria-label="Bookmark this page"><div class="mdc-icon-button__ripple"></div>
  bookmark</button>
</section>
</div>
</header>
  <main class="">
</main></div>
  <div class="mdc-tab-bar" role="tablist"><div class="mdc-tab-scroller"><div class="mdc-tab-scroller__scroll-area" style=""><div class="mdc-tab-scroller__scroll-content" style=""><a href="/" class="mdc-tab mdc-tab--active" style="" role="tab" aria-selected="true" tabindex="0"><span class="mdc-tab__content"><span class="mdc-tab__text-label" href="test">Home</span>
    </span>
  <span class="mdc-tab-indicator mdc-tab-indicator--active"><span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline" style=""></span>
</span>
  <span class="mdc-tab__ripple"></span></a><a href="/ukraine" class="mdc-tab" style="" role="tab" aria-selected="false" tabindex="-1"><span class="mdc-tab__content"><span class="mdc-tab__text-label" href="test">Ukraine</span>
    </span>
  <span class="mdc-tab-indicator"><span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline" style=""></span>
</span>
  <span class="mdc-tab__ripple"></span></a><a href="/ukraine_map" class="mdc-tab" style="" role="tab" aria-selected="false" tabindex="-1"><span class="mdc-tab__content"><span class="mdc-tab__text-label" href="test">Ukraine Map</span>
    </span>
  <span class="mdc-tab-indicator"><span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline" style=""></span>
</span>
  <span class="mdc-tab__ripple"></span></a><a href="/2.africa.md" class="mdc-tab" style="" role="tab" aria-selected="false" tabindex="-1"><span class="mdc-tab__content"><span class="mdc-tab__text-label" href="test">Africa</span>
    </span>
  <span class="mdc-tab-indicator"><span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline" style=""></span>
</span>
  <span class="mdc-tab__ripple"></span></a><a href="/3.Asia.md" class="mdc-tab" style="" role="tab" aria-selected="false" tabindex="-1"><span class="mdc-tab__content"><span class="mdc-tab__text-label" href="test">Asia</span>
    </span>
  <span class="mdc-tab-indicator"><span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline" style=""></span>
</span>
  <span class="mdc-tab__ripple"></span></a><a href="/4.nagarno-karabakh.md" class="mdc-tab" style="" role="tab" aria-selected="false" tabindex="-1"><span class="mdc-tab__content"><span class="mdc-tab__text-label" href="test">Nagarno-Karabakh</span>
    </span>
  <span class="mdc-tab-indicator"><span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline" style=""></span>
</span>
  <span class="mdc-tab__ripple"></span></a><a href="/999.about-us.md" class="mdc-tab" style="" role="tab" aria-selected="false" tabindex="-1"><span class="mdc-tab__content"><span class="mdc-tab__text-label" href="test">About us</span>
    </span>
  <span class="mdc-tab-indicator"><span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline" style=""></span>
</span>
  <span class="mdc-tab__ripple"></span></a></div></div>
</div>
</div></div></div>
  <!-- HTML_TAG_START -->

<a href="/" class="svelte-bvr7j8">‚Üê Home</a>

<h1>Elder.js Route: An Overview</h1>

<ul><li><!-- HTML_TAG_START -->Step 1: All routes require a <span class="code">route.js</span> and a svelte template. Look at <span class="code">./src/routes/simple/route.js</span> to follow along.<!-- HTML_TAG_END --></li><li><!-- HTML_TAG_START -->Step 2: We define an <span class="code">all()</span> function that returns an array of <span class="code">request</span> objects.<!-- HTML_TAG_END --></li><li><!-- HTML_TAG_START -->Step 3: We define a <span class="code">permalink</span> string or function that transforms the <span class="code">request</span> objects from <span class="code">all()</span> into permalinks.<!-- HTML_TAG_END --></li><li><!-- HTML_TAG_START -->Step 4: We define a data function that makes data available in your svelte template.<!-- HTML_TAG_END --></li></ul>

<!-- HTML_TAG_START -->
      <h2>Elder.js' all() Function</h2>
      <p>Elder.js is a bit different from most frameworks in that for pages to be statically generated it asks you to define all of your <span class="code">request</span> objects in your <span class="code">all()</span> function. While this step may seem a bit different from what you are used to it prevents Elder.js from having to crawl your site to render it which dramatically speeds up the build process.</p>
  
      <h2>Elder.js' Permalink Strategy</h2>
      <p>Elder.js' routing uses the common placeholder strategy that looks like: <span class="code">/blog/:slug/</span>.</p>
      <p>For most projects the placeholder strategy works well enough, but If you need more control you can also use a function such as <span class="code">({ request }) => `/simple/`;</span></p>

      <h2>Elder.js' Data Function </h2>
      <p>The <span class="code">data</span> function is where your "business logic" should live. This is where you prepare all of the data needed for your page to be rendered. This data is passed directly to the route's Svelte template.</p>

      <h2>Dynamic Routes in Elder.js</h2>
      <p>If you are looking to use Elder.js as a server (SSR) instead of a static site generator you can set <span class="code">dynamic: true</span> in your route definition and any parameters extracted from your route definition will be available on the <span class="code">request</span>  object. Please note that dynamic routing requires using a <span class="code">/:placeholder/</span> permalink strategy.  </p>

      <h2>Learning Exercise: </h3>
      <p>Try adding <span class="code">{ slug: "another-request" }</span> to the <span class="code">all()</span> function in <span class="code">./src/simple/route.js</span> 
      and then visit /another-request/ to see that you added another page with the same data.</p>
      
      <!-- HTML_TAG_END --><!-- HTML_TAG_END --></div>
    
    <script type="module">
            const requestIdleCallback = window.requestIdleCallback || ( cb => window.setTimeout(cb,1) );
      
const $$ejs = (par,eager)=>{
  const $ejs = function(_ejs){return _ejs};
  const prefix = '/_elderjs';
  const initComponent = (target, component) => {

    if(!!CustomEvent && target.id){
      const split = target.id.split('-ejs-');
      document.dispatchEvent(new CustomEvent('ejs', {
        detail: {
          category: 'elderjs',
          action: 'hydrate',
          target: target,
          label: split[0] || target.id
        }
      }));
    }

    const propProm = ((typeof component.props === 'string') ? fetch(prefix+'/props/'+ component.props).then(p => p.json()).then(r => $ejs(r)) : new Promise((resolve) => resolve($ejs(component.props))));
    const compProm = import(prefix + '/svelte/components/' + component.component);

    Promise.all([compProm,propProm]).then(([comp,props])=>{
      new comp.default({ 
        target: target,
        props: props,
        hydrate: true
      });
    });
  };
  const IO = ('IntersectionObserver' in window) ? new IntersectionObserver((entries, observer) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        observer.unobserve(entry.target);
        const selected = par[entry.target.id];
        initComponent(entry.target,selected)
      }
    });
  }, { rootMargin: "200px",threshold: 0}) : undefined;
  Object.keys(par).forEach(k => {
    const el = document.getElementById(k);
    if (!eager && IO) {
        IO.observe(el);
    } else {
        initComponent(el,par[k]);
    }
  });
};

      
      requestIdleCallback(function(){
        $$ejs({'header-ejs-yytcSbGxzX' : { 'component' : 'Header.fef20fc9.js', 'props' : {"pages":[{"title":"Ukraine","slug":"ukraine"},{"title":"Ukraine Map","slug":"ukraine_map"},{"title":"Africa","slug":"2.africa.md"},{"title":"Asia","slug":"3.Asia.md"},{"title":"Nagarno-Karabakh","slug":"4.nagarno-karabakh.md"},{"title":"About us","slug":"999.about-us.md"}],"url":"/simple/"}},})}, {timeout: 1000});</script>
    
    
    </body></html>